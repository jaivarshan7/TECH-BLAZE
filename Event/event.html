<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events - Tech Blaze '26 | Technical Symposium HITS</title>
    <meta name="description"
        content="Discover technical and non-technical events at Tech Blaze '26. Participate in coding competitions, hackathons, quizzes, and workshops at Hindustan Institute of Technology and Science.">
    <meta name="keywords"
        content="Tech Blaze Events, Coding Competition, Hackathon, Technical Events, Workshops, HITS, Chennai Symposium">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://techblaze26.netlify.app/Event/event.html">
    <meta property="og:title" content="Events - Tech Blaze '26 | Technical Symposium HITS">
    <meta property="og:description"
        content="Explore and register for exciting events at Tech Blaze '26. Win big prizes!">
    <meta property="og:image" content="https://techblaze26.netlify.app/img/tblogo.png">
    <link rel="canonical" href="https://techblaze26.netlify.app/Event/event.html">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://techblaze26.netlify.app/Event/event.html">
    <meta property="twitter:title" content="Events - Tech Blaze '26 | Technical Symposium HITS">
    <meta property="twitter:description"
        content="Explore and register for exciting events at Tech Blaze '26. Win big prizes!">
    <meta property="twitter:image" content="https://techblaze26.netlify.app/img/tblogo.png">
    <link rel="icon" href="/img/tblogo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../Shared/navbar.css">
    <link rel="stylesheet" href="event.css">
</head>

<body>

    <div class="video-background">
        <video autoplay muted loop playsinline id="bg-video" preload="metadata"
            poster="../Home/image/home-background.jpg">
            <source src="../Home/image/nebula.3840x2160.mp4" type="video/mp4">
        </video>
    </div>

    <div id="navbar-container"></div>

    <div class="container">
        <header>
            <h1>TECH BLAZE</h1>
            <p class="subtitle">Discover the best experiences happening around you.</p>
        </header>

        <div class="controls">
            <div class="filter-btns">
                <button class="filter-btn" data-filter="online">Online</button>
                <button class="filter-btn" data-filter="offline">Offline</button>
            </div>
        </div>

        <main id="eventsContainer" class="events-grid">
        </main>
    </div>

    <!-- Event Detail Modal -->
    <div id="eventModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div id="modalBody">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <div id="footer-container"></div>

    <script>
        // --- DATA SOURCE ---
        const eventsData = [
            {
                id: 1,
                category: 'technical',
                title: "SQL Showdown",
                date: "February 27, 2026 ‚Ä¢ 10:20 AM",
                description: "Explore the latest in artificial intelligence and machine learning with industry leaders.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/sqlshowdown.png"
            },
            {
                id: 2,
                category: 'technical',
                title: "Web Relay Rush",
                date: "February 27, 2026 ‚Ä¢ 10:20 AM",
                description: "Join us for a sunset photography walk through the city center. Bring your own camera.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/webrealyrush.png"
            },
            {
                id: 3,
                category: 'technical',
                title: "Cyber Quest",
                date: "February 27, 2026 ‚Ä¢ 11:00 AM",
                description: "Deep dive into React hooks, state management, and performance optimization.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/cyberquest.png"
            },
            {
                id: 4,
                category: 'technical',
                title: "Tech Quiz",
                date: "February 27, 2026 ‚Ä¢ 11:00 AM",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/techquiz.png"
            },
            {
                id: 5,
                category: 'general',
                title: "Drum Sharade",
                date: "February 27, 2026 ‚Ä¢ 12:00 PM",
                description: "Learn how to scale your brand using modern SEO and social media strategies.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/drumsharade.png"
            },
            {
                id: 6,
                category: 'technical',
                title: "Reverse Coding",
                date: "February 28, 2026 ‚Ä¢ 10:20 AM",
                description: "Meet potential co-founders and investors in this casual networking mixer.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/reversecoding.png"
            },
            {
                id: 7,
                category: 'technical',
                title: "Data Analysis",
                date: "February 28, 2026 ‚Ä¢ 10:20 AM",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/dataanalysis.png"
            },
            {
                id: 8,
                category: 'general',
                title: "Connection",
                date: "February 28, 2026 ‚Ä¢ 11:10 AM",
                description: "Learn how to scale your brand using modern SEO and social media strategies.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/connection.png"
            },
            {
                id: 9,
                category: 'general',
                title: "Rapid Fire",
                date: "February 28, 2026 ‚Ä¢ 11:10 AM",
                description: "Meet potential co-founders and investors in this casual networking mixer.",
                type: "offline",
                location: "Bay Range Campus",
                image: "image/rapidfire.png"
            },
            {
                id: 10,
                category: 'general',
                title: "Ideathon",
                date: "February 19-28, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "Hybrid",
                image: "image/ideathon.png"
            },
            {
                id: 11,
                category: 'technical',
                title: "Game Development",
                date: "February 19-28, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "Hybrid",
                image: "image/gamedev.png"
            },
            {
                id: 12,
                category: 'technical',
                title: "Mobile App Development",
                date: "February 19-28, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "Hybrid",
                image: "image/mobileapp.png"
            },
            {
                id: 13,
                category: 'general',
                title: "Photography",
                date: "February 19-27, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "online",
                image: "image/photography.png"
            },
            {
                id: 14,
                category: 'general',
                title: "Crossword Puzzle",
                date: "February 19-27, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "online",
                image: "image/crosswordpuzzle.png"
            },
            {
                id: 15,
                category: 'general',
                title: "Blind Typing",
                date: "February 19-27, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "online",
                image: "image/blindtyping.png"
            },
            {
                id: 16,
                category: 'general',
                title: "Prompt Craft",
                date: "February 19-27, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "online",
                image: "image/promptcraft.png"
            },
            {
                id: 17,
                category: 'general',
                title: "Logo Design",
                date: "February 19-27, 2026",
                description: "A night of live music featuring top independent artists from around the country.",
                type: "online",
                image: "image/logodesign.png"
            }
        ];

        // --- DOM ELEMENTS ---
        const container = document.getElementById('eventsContainer');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const modal = document.getElementById('eventModal');
        const modalBody = document.getElementById('modalBody');

        // --- RENDER FUNCTION ---
        function renderEvents(data) {
            container.innerHTML = ''; // Clear current content

            if (data.length === 0) {
                container.innerHTML = `<p style="text-align:center; grid-column: 1/-1; color: var(--text-muted);">No events found matching your criteria.</p>`;
                return;
            }

            data.forEach((event, index) => {
                // Determine tag class and text
                const tagClass = event.type === 'online' ? 'tag-online' : 'tag-offline';
                const locationIcon = event.type === 'online' ? 'üåê' : 'üìç';

                // Staggered Animation Delay calculation
                const delay = index * 0.1;
                const baseName = event.image.split('/').pop().split('.').slice(0, -1).join('.');
                const avifSrcset = `/img/optimized/${baseName}-1200.avif 1200w, /img/optimized/${baseName}-768.avif 768w, /img/optimized/${baseName}-480.avif 480w`;
                const webpSrcset = `/img/optimized/${baseName}-1200.webp 1200w, /img/optimized/${baseName}-768.webp 768w, /img/optimized/${baseName}-480.webp 480w`;

                const cardHTML = `
                    <article class="event-card" style="animation-delay: ${delay}s">
                        <div class="card-image">
                            <span class="category-tag ${tagClass}">${event.type}</span>
                            <picture>
                                <source type="image/avif" srcset="${avifSrcset}" sizes="(max-width:600px) 100vw, 600px">
                                <source type="image/webp" srcset="${webpSrcset}">
                                <img src="${event.image}" alt="${event.title}" loading="lazy" decoding="async" width="600" height="400">
                            </picture>
                        </div>
                        <div class="card-content">
                            <div class="event-date">${event.date}</div>
                            <h3 class="event-title">${event.title}</h3>
                            <p class="event-desc">${event.description}</p>
                            
                            <div class="event-details">
                                <div class="location-info">
                                    <span>${locationIcon}</span>
                                    <span>${event.location || 'Online'}</span>
                                </div>
                                <button class="register-btn" onclick="openModal(${event.id})">Read More</button>
                            </div>
                        </div>
                    </article>
                `;
                container.innerHTML += cardHTML;
            });
        }

        // --- FILTER LOGIC ---
        function filterEvents() {
            const activeBtn = document.querySelector('.filter-btn.active');
            const activeCategory = activeBtn ? activeBtn.dataset.filter : 'all';

            const filtered = eventsData.filter(event => {
                if (activeCategory === 'all') return true;
                return event.type === activeCategory || event.category === activeCategory;
            });

            renderEvents(filtered);
        }

        // --- EVENT LISTENERS ---
        // Filter Button Listeners
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const wasActive = btn.classList.contains('active');
                filterBtns.forEach(b => b.classList.remove('active'));
                if (!wasActive) {
                    btn.classList.add('active');
                }
                filterEvents();
            });
        });

        // --- MODAL FUNCTIONS ---
        function openModal(id) {
            const event = eventsData.find(e => e.id === id);
            if (!event) return;

            // Construct PDF path - assumes PDFs are named by title slug
            const pdfPath = `Rule-book/${event.title.replace(/\s+/g, '-').toLowerCase()}.pdf`;

            modalBody.innerHTML = `
                <div class="modal-header">
                    <h2 class="modal-title">${event.title}</h2>
                    <span class="modal-tag ${event.type === 'online' ? 'tag-online' : 'tag-offline'}">${event.type}</span>
                </div>
                <div class="modal-body-content">
                    <img src="${event.image}" alt="${event.title}" class="modal-image">
                    <div class="modal-info">
                        <p class="modal-date"><i class="far fa-calendar-alt"></i> ${event.date}</p>
                        <p class="modal-location"><i class="fas fa-map-marker-alt"></i> ${event.location || 'Online'}</p>
                        <p class="modal-desc">${event.description}</p>
                        
                        <div class="modal-actions">
                            <a href="${pdfPath}" target="_blank" class="download-btn"><i class="fas fa-file-pdf"></i> Download Rulebook</a>
                        </div>
                    </div>
                </div>
            `;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeModal() {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        // Close modal when clicking outside
        window.onclick = function (event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        // --- INITIAL RENDER ---
        renderEvents(eventsData);

        // Inject JSON-LD for events for SEO
        (function () {
            const ld = {
                "@context": "https://schema.org",
                "@graph": eventsData.map(ev => ({
                    "@type": "Event",
                    "name": ev.title,
                    "description": ev.description,
                    "image": "https://techblaze26.netlify.app/Event/" + ev.image,
                    "location": {
                        "@type": "Place",
                        "name": ev.location || "Online"
                    },
                    "url": "https://techblaze26.netlify.app/Event/" + (ev.title.replace(/\s+/g, '-').toLowerCase() + '.html')
                }))
            };
            const s = document.createElement('script');
            s.type = 'application/ld+json';
            s.textContent = JSON.stringify(ld);
            document.head.appendChild(s);
        })();

    </script>
    <script src="../Shared/navbar.js" defer></script>
    <script src="../Shared/footer.js" defer></script>
</body>

</html>